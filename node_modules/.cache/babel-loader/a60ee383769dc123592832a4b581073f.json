{"ast":null,"code":"import { takeLatest, put, call, all } from \"@redux-saga/core/effects\";\nimport { setError, setLoading } from \"../actions/status\";\nimport { setDataUser } from \"../actions/user\";\nimport { DELETEUSER, GETUSER, LOGIN, LOGOUT, RENEWTOKEN, SETDATAUSER, SIGNUP, USERUPDATE } from \"../actionTypes/user\";\nimport { userApi } from \"../services/user\";\nimport Cookies from 'js-cookie';\n/* Worker */\n\nfunction* userDelete(action) {\n  try {\n    yield put(setLoading(true));\n    const data = yield call(userApi.userDelete);\n\n    if (data.status === 200) {\n      yield put({\n        type: SETDATAUSER,\n        data: {\n          first_name: \"\",\n          last_name: \"\",\n          email: \"\"\n        }\n      });\n      action.payload.navigate(\"/login\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error));\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* getUser() {\n  try {\n    yield put(setLoading(true));\n    const data = yield call(userApi.getMe);\n\n    if (data.status === 200) {\n      const {\n        first_name,\n        last_name,\n        email\n      } = data.data;\n      yield put({\n        type: SETDATAUSER,\n        data: {\n          first_name,\n          last_name,\n          email\n        }\n      });\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error));\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* loginUser(action) {\n  try {\n    yield put(setLoading(true));\n    const {\n      email,\n      password,\n      checkbox\n    } = action.payload;\n    const data = yield call(userApi.login, {\n      email,\n      password\n    });\n\n    if (data.status === 200) {\n      const {\n        first_name,\n        last_name,\n        email\n      } = data.data.user;\n      yield put({\n        type: SETDATAUSER,\n        data: {\n          first_name,\n          last_name,\n          email\n        }\n      });\n      Cookies.set('accessToken', data.data.accessToken);\n      Cookies.set('accessToken', data.data.accessToken);\n      localStorage.setItem(\"token\", data.data.accessToken);\n      action.payload.navigate(\"/\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error.message));\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* logoutUser(action) {\n  try {\n    yield put(setLoading(true));\n    const data = yield call(userApi.logout);\n\n    if (data.status === 200) {\n      yield put({\n        type: SETDATAUSER,\n        data: {\n          email: \"\",\n          first_name: \"\",\n          last_name: \"\"\n        }\n      });\n      localStorage.removeItem(\"token\");\n      action.payload.navigate(\"/login\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error));\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* renewToken(action) {\n  try {\n    yield put(setLoading(true));\n    const data = yield call(userApi.renewToken);\n    if (data.status === 200) localStorage.setItem(\"token\", data.data.accessToken);\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error));\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* singUpUser(action) {\n  try {\n    yield put(setLoading(true));\n    const {\n      first_name,\n      last_name,\n      email,\n      password\n    } = action.payload;\n    const data = yield call(userApi.signup, {\n      first_name,\n      last_name,\n      email,\n      password\n    });\n\n    if (data.status === 201) {\n      const {\n        first_name,\n        last_name,\n        email\n      } = data.data.user;\n      yield put({\n        type: SETDATAUSER,\n        data: {\n          first_name,\n          last_name,\n          email\n        }\n      });\n      localStorage.setItem(\"token\", data.data.accessToken);\n      action.payload.navigate(\"/\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error.message));\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* userUpdate(action) {\n  try {\n    yield put(setLoading(true));\n    const {\n      first_name,\n      last_name,\n      email\n    } = action.payload;\n    const data = yield call(userApi.userUpdate, {\n      first_name,\n      last_name,\n      email\n    });\n\n    if (data.status === 200) {\n      const {\n        first_name,\n        last_name,\n        email\n      } = data.data.updatedUser;\n      yield put({\n        type: SETDATAUSER,\n        data: {\n          first_name,\n          last_name,\n          email\n        }\n      });\n      action.payload.navigate(\"/profile\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error));\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n/* Watchers */\n\n\nfunction* watchDeleteUserSaga() {\n  yield takeLatest(DELETEUSER, userDelete);\n}\n\nfunction* watchGetUserSaga() {\n  yield takeLatest(GETUSER, getUser);\n}\n\nfunction* watchUpdateUserSaga() {\n  yield takeLatest(USERUPDATE, userUpdate);\n}\n\nfunction* watchSignUpSaga() {\n  yield takeLatest(SIGNUP, singUpUser);\n}\n\nfunction* watchRenewTokenSaga() {\n  yield takeLatest(RENEWTOKEN, renewToken);\n}\n\nfunction* watchLogoutSaga() {\n  yield takeLatest(LOGOUT, logoutUser);\n}\n\nfunction* watchLoginSaga() {\n  yield takeLatest(LOGIN, loginUser);\n}\n\nexport default function* userSaga() {\n  yield all([watchDeleteUserSaga(), watchGetUserSaga(), watchUpdateUserSaga(), watchSignUpSaga(), watchRenewTokenSaga(), watchLogoutSaga(), watchLoginSaga()]);\n}","map":{"version":3,"sources":["/home/dev/Max/test/login/src/store/sagas/user.js"],"names":["takeLatest","put","call","all","setError","setLoading","setDataUser","DELETEUSER","GETUSER","LOGIN","LOGOUT","RENEWTOKEN","SETDATAUSER","SIGNUP","USERUPDATE","userApi","Cookies","userDelete","action","data","status","type","first_name","last_name","email","payload","navigate","error","console","log","getUser","getMe","loginUser","password","checkbox","login","user","set","accessToken","localStorage","setItem","message","logoutUser","logout","removeItem","renewToken","singUpUser","signup","userUpdate","updatedUser","watchDeleteUserSaga","watchGetUserSaga","watchUpdateUserSaga","watchSignUpSaga","watchRenewTokenSaga","watchLogoutSaga","watchLoginSaga","userSaga"],"mappings":"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","sourcesContent":["import { takeLatest, put, call, all } from \"@redux-saga/core/effects\";\nimport { setError, setLoading } from \"../actions/status\";\nimport { setDataUser } from \"../actions/user\";\nimport {\n  DELETEUSER,\n  GETUSER,\n  LOGIN,\n  LOGOUT,\n  RENEWTOKEN,\n  SETDATAUSER,\n  SIGNUP,\n  USERUPDATE,\n} from \"../actionTypes/user\";\nimport { userApi } from \"../services/user\";\nimport Cookies from 'js-cookie'\n\n/* Worker */\n\nfunction* userDelete(action) {\n  try {\n    yield put(setLoading(true));\n    const data = yield call(userApi.userDelete);\n    if (data.status === 200) {\n      yield put({\n        type: SETDATAUSER,\n        data: { first_name: \"\", last_name: \"\", email: \"\" },\n      });\n      action.payload.navigate(\"/login\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error))\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* getUser() {\n  try {\n    yield put(setLoading(true));\n    const data = yield call(userApi.getMe);\n\n    if (data.status === 200) {\n      const { first_name, last_name, email } = data.data;\n      yield put({\n        type: SETDATAUSER,\n        data: { first_name, last_name, email },\n      });\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error))\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* loginUser(action) {\n  try {\n    yield put(setLoading(true));\n    const { email, password, checkbox } = action.payload;\n    const data = yield call(userApi.login, { email, password });\n    \n    if (data.status === 200) {\n      const { first_name, last_name, email } = data.data.user;\n      yield put({\n        type: SETDATAUSER,\n        data: { first_name, last_name, email },\n      });\n      Cookies.set('accessToken',data.data.accessToken)\n      Cookies.set('accessToken',data.data.accessToken)\n      localStorage.setItem(\"token\", data.data.accessToken);\n      action.payload.navigate(\"/\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error.message))\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* logoutUser(action) {\n  try {\n    yield put(setLoading(true));\n    const data = yield call(userApi.logout);\n    if (data.status === 200) {\n      yield put({\n        type: SETDATAUSER,\n        data: { email: \"\", first_name: \"\", last_name: \"\" },\n      });\n      localStorage.removeItem(\"token\");\n      action.payload.navigate(\"/login\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error))\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* renewToken(action) {\n  try {\n    yield put(setLoading(true));\n    const data = yield call(userApi.renewToken);\n    if (data.status === 200)\n      localStorage.setItem(\"token\", data.data.accessToken);\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error))\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* singUpUser(action) {\n  try {\n    yield put(setLoading(true));\n    const { first_name, last_name, email, password } = action.payload;\n    const data = yield call(userApi.signup, {\n      first_name,\n      last_name,\n      email,\n      password,\n    });\n    if (data.status === 201) {\n      const {first_name, last_name, email } = data.data.user;\n      \n      yield put({\n        type: SETDATAUSER,\n        data: { first_name, last_name, email },\n      });\n      localStorage.setItem(\"token\", data.data.accessToken);\n      action.payload.navigate(\"/\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error.message))\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\nfunction* userUpdate(action) {\n  try {\n    yield put(setLoading(true));\n    const { first_name, last_name, email } = action.payload;\n    const data = yield call(userApi.userUpdate, { first_name, last_name, email });\n    if (data.status === 200) {\n      const { first_name, last_name, email } = data.data.updatedUser;\n      yield put({ type: SETDATAUSER, data: { first_name, last_name, email } });\n      action.payload.navigate(\"/profile\");\n    }\n  } catch (error) {\n    console.log(error);\n    yield put(setError(error))\n  } finally {\n    yield put(setLoading(false));\n  }\n}\n\n/* Watchers */\n\nfunction* watchDeleteUserSaga() {\n  yield takeLatest(DELETEUSER, userDelete);\n}\n\nfunction* watchGetUserSaga() {\n  yield takeLatest(GETUSER, getUser);\n}\n\nfunction* watchUpdateUserSaga() {\n  yield takeLatest(USERUPDATE, userUpdate);\n}\n\nfunction* watchSignUpSaga() {\n  yield takeLatest(SIGNUP, singUpUser);\n}\nfunction* watchRenewTokenSaga() {\n  yield takeLatest(RENEWTOKEN, renewToken);\n}\n\nfunction* watchLogoutSaga() {\n  yield takeLatest(LOGOUT, logoutUser);\n}\n\nfunction* watchLoginSaga() {\n  yield takeLatest(LOGIN, loginUser);\n}\n\nexport default function* userSaga() {\n  yield all([\n    watchDeleteUserSaga(),\n    watchGetUserSaga(),\n    watchUpdateUserSaga(),\n    watchSignUpSaga(),\n    watchRenewTokenSaga(),\n    watchLogoutSaga(),\n    watchLoginSaga(),\n  ]);\n}\n"]},"metadata":{},"sourceType":"module"}